module.exports=[76868,a=>a.a(async(b,c)=>{try{let b=await a.y("clsx");a.n(b),c()}catch(a){c(a)}},!0),94004,a=>a.a(async(b,c)=>{try{let b=await a.y("tailwind-merge");a.n(b),c()}catch(a){c(a)}},!0),68731,a=>a.a(async(b,c)=>{try{var d=a.i(76868),e=a.i(94004),f=b([d,e]);function g(...a){return(0,e.twMerge)((0,d.clsx)(a))}[d,e]=f.then?(await f)():f,a.s(["cn",()=>g]),c()}catch(a){c(a)}},!1),96436,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(68731),f=b([e]);function g({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card",className:(0,e.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...b})}function h({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-header",className:(0,e.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...b})}function i({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-title",className:(0,e.cn)("leading-none font-semibold",a),...b})}function j({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-description",className:(0,e.cn)("text-muted-foreground text-sm",a),...b})}function k({className:a,...b}){return(0,d.jsx)("div",{"data-slot":"card-content",className:(0,e.cn)("px-6",a),...b})}[e]=f.then?(await f)():f,a.s(["Card",()=>g,"CardContent",()=>k,"CardDescription",()=>j,"CardHeader",()=>h,"CardTitle",()=>i]),c()}catch(a){c(a)}},!1),23105,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-slot");a.n(b),c()}catch(a){c(a)}},!0),98432,a=>a.a(async(b,c)=>{try{let b=await a.y("class-variance-authority");a.n(b),c()}catch(a){c(a)}},!0),15878,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(23105),f=a.i(98432),g=a.i(68731),h=b([e,f,g]);[e,f,g]=h.then?(await h)():h;let j=(0,f.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function i({className:a,variant:b,size:c,asChild:f=!1,...h}){let i=f?e.Slot:"button";return(0,d.jsx)(i,{"data-slot":"button",className:(0,g.cn)(j({variant:b,size:c,className:a})),...h})}a.s(["Button",()=>i]),c()}catch(a){c(a)}},!1),20977,(a,b,c)=>{b.exports=a.x("@stellar/stellar-sdk",()=>require("@stellar/stellar-sdk"))},71493,a=>{"use strict";var b=a.i(20977);let c={POOL:process.env.NEXT_PUBLIC_POOL_CONTRACT_ID||"",PRICE_ORACLE:process.env.NEXT_PUBLIC_ORACLE_CONTRACT_ID||"",INTEREST_RATE_MODEL:process.env.NEXT_PUBLIC_INTEREST_RATE_MODEL_CONTRACT_ID||"",XLM_TOKEN:process.env.NEXT_PUBLIC_XLM_TOKEN_ID||"",USDC_TOKEN:process.env.NEXT_PUBLIC_USDC_TOKEN_ID||""},d="Test SDF Future Network ; October 2022";BigInt(1e7);let e=new b.SorobanRpc.Server("https://rpc-futurenet.stellar.org");function f(a,b=7){return Number(a)/Math.pow(10,b)}function g(a,b=7){return BigInt(Math.floor(a*Math.pow(10,b)))}function h(a){return Number(a)/1e7}let i=new class{poolContract=null;oracleContract=null;constructor(){c.POOL&&(this.poolContract=new b.Contract(c.POOL)),c.PRICE_ORACLE&&(this.oracleContract=new b.Contract(c.PRICE_ORACLE))}isConfigured(){return!!(c.POOL&&c.PRICE_ORACLE)}async getPrice(a){if(!this.oracleContract)return"XLM"===a?.35:1;try{let c=await e.simulateTransaction(await this.buildReadTransaction(this.oracleContract.call("get_price",(0,b.nativeToScVal)(a,{type:"symbol"}))));if(b.SorobanRpc.Api.isSimulationSuccess(c)){let a=c.result?.retval;if(a){let c=(0,b.scValToNative)(a);return h(c)}}return"XLM"===a?.35:1}catch(b){return console.error("Error fetching price:",b),"XLM"===a?.35:1}}async getUserPosition(a){if(!this.poolContract||!a)return{collateral:{xlm:0},debt:{usdc:0},supply:{usdc:0},healthFactor:999};try{let c=new b.Address(a),d=await this.callContract("get_user_collateral",[c.toScVal(),(0,b.nativeToScVal)("XLM",{type:"symbol"})]),e=d?f(d):0,g=await this.callContract("get_user_debt",[c.toScVal(),(0,b.nativeToScVal)("USDC",{type:"symbol"})]),i=g?f(g):0,j=await this.callContract("get_user_shares",[c.toScVal(),(0,b.nativeToScVal)("USDC",{type:"symbol"})]),k=j?f(j):0,l=await this.callContract("get_health_factor",[c.toScVal()]),m=l?h(l):999;return{collateral:{xlm:e},debt:{usdc:i},supply:{usdc:k},healthFactor:m}}catch(a){return console.error("Error fetching user position:",a),{collateral:{xlm:0},debt:{usdc:0},supply:{usdc:0},healthFactor:999}}}async getMarketInfo(a){if(!this.poolContract)return{totalSupply:0,totalBorrow:0,utilizationRate:0,borrowRate:.05,supplyRate:.02};try{let c=(0,b.nativeToScVal)(a,{type:"symbol"}),d=await this.callContract("get_total_supply",[c]),e=d?f(d):0,g=await this.callContract("get_total_borrow",[c]),i=g?f(g):0,j=await this.callContract("get_utilization_rate",[c]),k=j?h(j):0,l=await this.callContract("get_borrow_rate",[c]),m=l?h(l):.05,n=await this.callContract("get_supply_rate",[c]),o=n?h(n):.02;return{totalSupply:e,totalBorrow:i,utilizationRate:k,borrowRate:m,supplyRate:o}}catch(a){return console.error("Error fetching market info:",a),{totalSupply:0,totalBorrow:0,utilizationRate:0,borrowRate:.05,supplyRate:.02}}}async callContract(a,c){if(!this.poolContract)return null;try{let d=await this.buildReadTransaction(this.poolContract.call(a,...c)),f=await e.simulateTransaction(d);if(b.SorobanRpc.Api.isSimulationSuccess(f)){let a=f.result?.retval;if(a)return(0,b.scValToNative)(a)}return null}catch(b){return console.error(`Error calling ${a}:`,b),null}}async buildReadTransaction(a){let c=b.Keypair.random(),f=await e.getAccount(c.publicKey()).catch(()=>({accountId:()=>c.publicKey(),sequenceNumber:()=>"0",incrementSequenceNumber:()=>{}}));return new b.TransactionBuilder(f,{fee:b.BASE_FEE,networkPassphrase:d}).addOperation(a).setTimeout(30).build()}async buildTransaction(a,c){let f=await e.getAccount(a),g=new b.TransactionBuilder(f,{fee:b.BASE_FEE,networkPassphrase:d}).addOperation(c).setTimeout(30).build(),h=await e.simulateTransaction(g);if(!b.SorobanRpc.Api.isSimulationSuccess(h))throw Error("Transaction simulation failed");return b.SorobanRpc.assembleTransaction(g,h).build().toXDR()}async submitTransaction(a){let c=b.TransactionBuilder.fromXDR(a,d),f=await e.sendTransaction(c);if("ERROR"===f.status)throw Error("Transaction submission failed");let g=await e.getTransaction(f.hash);for(;"NOT_FOUND"===g.status;)await new Promise(a=>setTimeout(a,1e3)),g=await e.getTransaction(f.hash);if("SUCCESS"===g.status)return f.hash;throw Error(`Transaction failed with status: ${g.status}`)}async buildSupplyTx(a,c,d){if(!this.poolContract)throw Error("Pool contract not configured");let e=this.poolContract.call("supply",new b.Address(a).toScVal(),(0,b.nativeToScVal)(c,{type:"symbol"}),(0,b.nativeToScVal)(g(d),{type:"i128"}));return this.buildTransaction(a,e)}async buildWithdrawTx(a,c,d){if(!this.poolContract)throw Error("Pool contract not configured");let e=this.poolContract.call("withdraw",new b.Address(a).toScVal(),(0,b.nativeToScVal)(c,{type:"symbol"}),(0,b.nativeToScVal)(g(d),{type:"i128"}));return this.buildTransaction(a,e)}async buildDepositCollateralTx(a,c,d){if(!this.poolContract)throw Error("Pool contract not configured");let e=this.poolContract.call("deposit_collateral",new b.Address(a).toScVal(),(0,b.nativeToScVal)(c,{type:"symbol"}),(0,b.nativeToScVal)(g(d),{type:"i128"}));return this.buildTransaction(a,e)}async buildWithdrawCollateralTx(a,c,d){if(!this.poolContract)throw Error("Pool contract not configured");let e=this.poolContract.call("withdraw_collateral",new b.Address(a).toScVal(),(0,b.nativeToScVal)(c,{type:"symbol"}),(0,b.nativeToScVal)(g(d),{type:"i128"}));return this.buildTransaction(a,e)}async buildBorrowTx(a,c,d){if(!this.poolContract)throw Error("Pool contract not configured");let e=this.poolContract.call("borrow",new b.Address(a).toScVal(),(0,b.nativeToScVal)(c,{type:"symbol"}),(0,b.nativeToScVal)(g(d),{type:"i128"}));return this.buildTransaction(a,e)}async buildRepayTx(a,c,d){if(!this.poolContract)throw Error("Pool contract not configured");let e=this.poolContract.call("repay",new b.Address(a).toScVal(),(0,b.nativeToScVal)(c,{type:"symbol"}),(0,b.nativeToScVal)(g(d),{type:"i128"}));return this.buildTransaction(a,e)}};a.s(["stellendContractAPI",0,{getWalletBalances:async a=>(!i.isConfigured(),{sXLM:1e4,sUSDC:2e3}),getDashboardData:async a=>{if(!i.isConfigured()||!a)return{userCollateral_sXLM:2e3,userCollateral_USD:700,userDebt_sUSDC:300,userSupply_sUSDC:5e3,borrowLimit:525,healthFactor:1.87,poolTotalSupply_sUSDC:15e5,poolTotalBorrowed_sUSDC:8e5,poolUtilization:.533,borrowAPR:.08,supplyAPR:.04};try{let[b,c,d]=await Promise.all([i.getUserPosition(a),i.getPrice("XLM"),i.getMarketInfo("USDC")]),e=b.collateral.xlm*c;return{userCollateral_sXLM:b.collateral.xlm,userCollateral_USD:e,userDebt_sUSDC:b.debt.usdc,userSupply_sUSDC:b.supply.usdc,borrowLimit:.75*e,healthFactor:b.healthFactor,poolTotalSupply_sUSDC:d.totalSupply,poolTotalBorrowed_sUSDC:d.totalBorrow,poolUtilization:d.utilizationRate,borrowAPR:d.borrowRate,supplyAPR:d.supplyRate}}catch(a){return console.error("Error fetching dashboard data:",a),{userCollateral_sXLM:0,userCollateral_USD:0,userDebt_sUSDC:0,userSupply_sUSDC:0,borrowLimit:0,healthFactor:999,poolTotalSupply_sUSDC:0,poolTotalBorrowed_sUSDC:0,poolUtilization:0,borrowAPR:.05,supplyAPR:.02}}},getMarkets:async()=>{let[a,b,c,d]=await Promise.all([i.getPrice("XLM"),i.getPrice("USDC"),i.getMarketInfo("XLM"),i.getMarketInfo("USDC")]);return[{asset:"XLM",icon:"â­",totalSupplied:c.totalSupply*a,totalBorrowed:c.totalBorrow*a,supplyAPR:100*c.supplyRate,borrowAPY:100*c.borrowRate,utilization:100*c.utilizationRate,price:a,priceChange24h:2.5},{asset:"USDC",icon:"$",totalSupplied:d.totalSupply,totalBorrowed:d.totalBorrow,supplyAPR:100*d.supplyRate,borrowAPY:100*d.borrowRate,utilization:100*d.utilizationRate,price:b,priceChange24h:.01}]},depositCollateral:async(a,b,c)=>{let d=await i.buildDepositCollateralTx(a,"XLM",b),e=await c(d);return await i.submitTransaction(e),!0},withdrawCollateral:async(a,b,c)=>{let d=await i.buildWithdrawCollateralTx(a,"XLM",b),e=await c(d);return await i.submitTransaction(e),!0},borrow:async(a,b,c)=>{let d=await i.buildBorrowTx(a,"USDC",b),e=await c(d);return await i.submitTransaction(e),!0},repay:async(a,b,c)=>{let d=await i.buildRepayTx(a,"USDC",b),e=await c(d);return await i.submitTransaction(e),!0},supplyLiquidity:async(a,b,c)=>{let d=await i.buildSupplyTx(a,"USDC",b),e=await c(d);return await i.submitTransaction(e),!0},withdrawLiquidity:async(a,b,c)=>{let d=await i.buildWithdrawTx(a,"USDC",b),e=await c(d);return await i.submitTransaction(e),!0}}],71493)},96844,(a,b,c)=>{b.exports=a.x("@stellar/freighter-api",()=>require("@stellar/freighter-api"))},27989,a=>{"use strict";var b=a.i(27669);a.i(8171),a.i(96844);let c=(0,b.createContext)({publicKey:null,isConnected:!1,isFreighterInstalled:!1,network:null,connectWallet:async()=>{},disconnectWallet:()=>{},signTx:async()=>"",error:null,isLoading:!1});function d(){let a=(0,b.useContext)(c);if(!a)throw Error("useWallet must be used within a WalletProvider");return a}a.s(["useWallet",()=>d],27989)},64375,a=>{"use strict";var b=a.i(27669);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],64375)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__770ef471._.js.map