module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},26392,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(68731),f=b([e]);function g({className:a,type:b,...c}){return(0,d.jsx)("input",{type:b,"data-slot":"input",className:(0,e.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",a),...c})}[e]=f.then?(await f)():f,a.s(["Input",()=>g]),c()}catch(a){c(a)}},!1),90164,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-label");a.n(b),c()}catch(a){c(a)}},!0),850,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(90164),f=a.i(68731),g=b([e,f]);function h({className:a,...b}){return(0,d.jsx)(e.Root,{"data-slot":"label",className:(0,f.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",a),...b})}[e,f]=g.then?(await g)():g,a.s(["Label",()=>h]),c()}catch(a){c(a)}},!1),11988,a=>{"use strict";let b=(0,a.i(64375).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],11988)},23414,a=>a.a(async(b,c)=>{try{let b=await a.y("sonner");a.n(b),c()}catch(a){c(a)}},!0),6131,a=>a.a(async(b,c)=>{try{let b=await a.y("@radix-ui/react-progress");a.n(b),c()}catch(a){c(a)}},!0),14279,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(6131),f=a.i(68731),g=b([e,f]);function h({className:a,value:b,...c}){return(0,d.jsx)(e.Root,{"data-slot":"progress",className:(0,f.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",a),...c,children:(0,d.jsx)(e.Indicator,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(b||0)}%)`}})})}[e,f]=g.then?(await g)():g,a.s(["Progress",()=>h]),c()}catch(a){c(a)}},!1),69773,a=>{"use strict";let b=(0,a.i(64375).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);a.s(["AlertTriangle",()=>b],69773)},73679,a=>{"use strict";let b=(0,a.i(64375).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],73679)},36028,a=>{"use strict";let b=(0,a.i(64375).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],36028)},23378,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(14279),f=a.i(69773),g=a.i(73679),h=a.i(36028),i=b([e]);function j({healthFactor:a,collateralValue:b,borrowedValue:c}){let i=a>=2?{color:"text-green-500",bg:"bg-green-500",icon:g.CheckCircle,label:"Güvenli"}:a>=1.5?{color:"text-yellow-500",bg:"bg-yellow-500",icon:h.AlertCircle,label:"Dikkat"}:a>=1.2?{color:"text-orange-500",bg:"bg-orange-500",icon:f.AlertTriangle,label:"Risk"}:{color:"text-red-500",bg:"bg-red-500",icon:f.AlertTriangle,label:"Yüksek Risk"},j=i.icon,k=Math.min(100,Math.max(0,(a-1)/1*100));return(0,d.jsxs)("div",{className:"glass-panel p-6 space-y-4",children:[(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h3",{className:"text-lg font-semibold",children:"Health Factor"}),(0,d.jsxs)("div",{className:`flex items-center gap-2 ${i.color}`,children:[(0,d.jsx)(j,{className:"w-5 h-5"}),(0,d.jsx)("span",{className:"font-semibold",children:i.label})]})]}),(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)("div",{className:"flex items-baseline gap-2",children:[(0,d.jsx)("span",{className:"text-4xl font-bold",children:a.toFixed(2)}),(0,d.jsx)("span",{className:"text-sm text-muted-foreground",children:"/ 2.00+"})]}),(0,d.jsx)(e.Progress,{value:k,className:"h-3"})]}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t border-white/10",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Teminat Değeri"}),(0,d.jsxs)("p",{className:"text-xl font-semibold",children:["$",b.toLocaleString()]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"text-sm text-muted-foreground",children:"Borç Değeri"}),(0,d.jsxs)("p",{className:"text-xl font-semibold",children:["$",c.toLocaleString()]})]})]}),(0,d.jsx)("div",{className:"text-sm text-muted-foreground bg-white/5 p-3 rounded-lg",children:(0,d.jsx)("p",{children:"Health Factor 1.00'ın altına düşerse pozisyonunuz tasfiye edilebilir."})})]})}[e]=i.then?(await i)():i,a.s(["HealthFactorIndicator",()=>j]),c()}catch(a){c(a)}},!1),57498,a=>{"use strict";let b=(0,a.i(64375).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);a.s(["Shield",()=>b],57498)},87769,a=>{"use strict";let b=(0,a.i(64375).default)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);a.s(["ArrowDown",()=>b],87769)},33286,a=>{"use strict";let b=(0,a.i(64375).default)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);a.s(["ArrowUp",()=>b],33286)},47737,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(96436),g=a.i(15878),h=a.i(26392),i=a.i(850),j=a.i(23378),k=a.i(71493),l=a.i(27989),m=a.i(57498),n=a.i(87769),o=a.i(33286),p=a.i(69773),q=a.i(11988),r=a.i(23414),s=b([f,g,h,i,j,r]);function t(){let{publicKey:a,isConnected:b,signTx:c}=(0,l.useWallet)(),[s,t]=(0,e.useState)(null),[u,v]=(0,e.useState)(null),[w,x]=(0,e.useState)(!0),[y,z]=(0,e.useState)(""),[A,B]=(0,e.useState)(""),[C,D]=(0,e.useState)(!1),E=(0,e.useCallback)(async()=>{try{let[b,c]=await Promise.all([k.stellendContractAPI.getDashboardData(a||""),k.stellendContractAPI.getWalletBalances(a||"")]);t(b),v(c)}catch(a){console.error("Failed to load data:",a)}finally{x(!1)}},[a]);(0,e.useEffect)(()=>{b&&E()},[b,E]);let F=async()=>{let b=parseFloat(y);if(!b||b<=0)return void r.toast.error("Please enter a valid amount");if(!a)return void r.toast.error("Wallet not connected");D(!0);try{await k.stellendContractAPI.depositCollateral(a,b,c),r.toast.success(`Successfully deposited ${b} XLM as collateral`),z(""),await E()}catch(a){r.toast.error(a.message||"Failed to deposit collateral")}finally{D(!1)}},G=async()=>{let b=parseFloat(A);if(!b||b<=0)return void r.toast.error("Please enter a valid amount");if(!a)return void r.toast.error("Wallet not connected");D(!0);try{await k.stellendContractAPI.withdrawCollateral(a,b,c),r.toast.success(`Successfully withdrew ${b} XLM from collateral`),B(""),await E()}catch(a){r.toast.error(a.message||"Failed to withdraw collateral")}finally{D(!1)}};return!w&&s&&u?(0,d.jsxs)("div",{className:"p-8 space-y-8 bg-gradient-to-br from-background via-background/95 to-primary/3 min-h-screen",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Collateral Management"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Manage your collateral to secure your borrowing position"})]}),(0,d.jsx)(j.HealthFactorIndicator,{healthFactor:s.healthFactor,collateralValue:s.userCollateral_USD,borrowedValue:s.userDebt_sUSDC}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,d.jsxs)(f.Card,{className:"glass-panel border-white/10",children:[(0,d.jsxs)(f.CardHeader,{children:[(0,d.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)(n.ArrowDown,{className:"w-5 h-5 text-green-500"}),"Deposit Collateral"]}),(0,d.jsx)(f.CardDescription,{children:"Add XLM to your collateral to increase your borrowing capacity"})]}),(0,d.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.Label,{htmlFor:"deposit-amount",children:"Amount (XLM)"}),(0,d.jsx)(h.Input,{id:"deposit-amount",type:"number",placeholder:"0.00",value:y,onChange:a=>z(a.target.value),disabled:C}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Wallet Balance: ",u.sXLM.toLocaleString()," XLM"]})]}),(0,d.jsx)(g.Button,{onClick:F,disabled:C||!b,className:"w-full",children:C?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing Transaction..."]}):"Deposit Collateral"}),(0,d.jsx)("div",{className:"p-4 rounded-lg bg-blue-500/10 border border-blue-500/20",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(m.Shield,{className:"w-5 h-5 text-blue-500 mt-0.5"}),(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("p",{className:"font-semibold mb-1",children:"Current Collateral"}),(0,d.jsxs)("p",{className:"text-muted-foreground",children:[s.userCollateral_sXLM.toLocaleString()," XLM ($",s.userCollateral_USD.toLocaleString(),")"]})]})]})})]})]}),(0,d.jsxs)(f.Card,{className:"glass-panel border-white/10",children:[(0,d.jsxs)(f.CardHeader,{children:[(0,d.jsxs)(f.CardTitle,{className:"flex items-center gap-2",children:[(0,d.jsx)(o.ArrowUp,{className:"w-5 h-5 text-orange-500"}),"Withdraw Collateral"]}),(0,d.jsx)(f.CardDescription,{children:"Remove XLM from your collateral (may affect health factor)"})]}),(0,d.jsxs)(f.CardContent,{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsx)(i.Label,{htmlFor:"withdraw-amount",children:"Amount (XLM)"}),(0,d.jsx)(h.Input,{id:"withdraw-amount",type:"number",placeholder:"0.00",value:A,onChange:a=>B(a.target.value),disabled:C}),(0,d.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Available: ",s.userCollateral_sXLM.toLocaleString()," XLM"]})]}),(0,d.jsx)(g.Button,{onClick:G,disabled:C||!b,variant:"outline",className:"w-full",children:C?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Signing Transaction..."]}):"Withdraw Collateral"}),(0,d.jsx)("div",{className:"p-4 rounded-lg bg-orange-500/10 border border-orange-500/20",children:(0,d.jsxs)("div",{className:"flex items-start gap-2",children:[(0,d.jsx)(p.AlertTriangle,{className:"w-5 h-5 text-orange-500 mt-0.5"}),(0,d.jsxs)("div",{className:"text-sm",children:[(0,d.jsx)("p",{className:"font-semibold mb-1",children:"Warning"}),(0,d.jsx)("p",{className:"text-muted-foreground",children:"Withdrawing collateral will reduce your health factor. Make sure it stays above 1.5 for safety."})]})]})})]})]})]}),(0,d.jsxs)(f.Card,{className:"glass-panel border-white/10",children:[(0,d.jsx)(f.CardHeader,{children:(0,d.jsx)(f.CardTitle,{children:"About Collateral"})}),(0,d.jsxs)(f.CardContent,{className:"space-y-2 text-sm text-muted-foreground",children:[(0,d.jsx)("p",{children:"• Collateral is used to secure your borrowing position. The more collateral you provide, the more you can borrow."}),(0,d.jsx)("p",{children:"• Your health factor must stay above 1.0 to avoid liquidation."}),(0,d.jsx)("p",{children:"• Withdrawing collateral reduces your borrowing capacity and may affect your health factor."}),(0,d.jsx)("p",{children:"• Collateral value is calculated based on current on-chain oracle prices."})]})]})]}):(0,d.jsx)("div",{className:"p-8",children:(0,d.jsxs)("div",{className:"flex items-center justify-center gap-2 text-muted-foreground",children:[(0,d.jsx)(q.Loader2,{className:"w-5 h-5 animate-spin"}),"Loading on-chain data..."]})})}[f,g,h,i,j,r]=s.then?(await s)():s,a.s(["default",()=>t]),c()}catch(a){c(a)}},!1),24209,a=>a.a(async(b,c)=>{try{var d=a.i(79168),e=a.i(27068),f=a.i(32759),g=a.i(39141),h=a.i(6555),i=a.i(47737),j=a.i(9193),k=b([i]);[i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/collateral",pathname:"/collateral",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/collateral",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__bae48ba4._.js.map